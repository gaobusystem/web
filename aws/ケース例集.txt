++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース001　透かし
ある会社はデジタル写真のデータを販売している。現在、オリジナルデータはS3バケットに保管されており、新しいデータが随時追加されている。
有料会員はS3バケットからオリジナルデータを直接ダウンロードできる。販売促進のため、
体験会員には会社名の透かしが入ったサンプルデータをダウンロードさせたい。
運用負荷とコストを最小限に抑えながら、これらの要件を満たすソリューションはどれか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
透かし加工をするLambda関数を作成する。
S3バケットにS3アクセスポイントを設定する。
S3 Object Lambdaアクセスポイントを作成し、作成済みのLambda関数とS3アクセスポイントを指定する。
有料会員には直接S3バケットへのアクセスを許可し、体験会員にはS3 Object Lambdaアクセスポイントからデータをダウンロードさせる

▲S3 Object Lambdaは、S3オブジェクトをリアルタイムでカスタマイズする機能です。
S3 Object Lambdaでは、S3 Object Lambdaアクセスポイントを、Lambda関数とS3バケットに作成したS3アクセスポイントに紐づけます。
S3 Object Lambdaアクセスポイントを経由したS3オブジェクトへのリクエストをトリガーとして、Lambda関数を実行し、処理後のデータを返すことができます。
リアルタイムでフィルタリング、圧縮、再フォーマット、データ加工などの処理が可能で、オブジェクトを動的に修正や変換できます。
元のデータに変更を加えることなく、S3オブジェクトへのアクセス時に自動的にデータ処理を適用できるため、柔軟性と効率性が向上します。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース003　権限管理機能
ある旅行会社は、世界中の顧客からのホテルや交通手段の予約を、毎日、数十万件受け付けている。
これらの予約データはAmazon DynamoDBに、顧客情報はAmazon RDSに保存されている。
同社では、これらのデータを統合して、効率的な分析のために、社内のさまざまなチームがアクセスできるプラットフォームを求めている。
これらのデータには分析目的によっては不要なデータや、アクセス制限が必要な個人情報も含まれるため、柔軟な権限管理が実現できるソリューションを求めている。
運用上のオーバーヘッドを最小限に抑えながら、これらの要件を満たすソリューションはどれか。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
AWS Lake Formationのブループリントを使用して、データをDynamoDB及びRDSからS3バケットに取り込みデータレイクを作成する。
Lake Formationの権限管理機能を用いて、それぞれのチームに対して必要な情報へのアクセス許可を設定する


++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース006　この設問が求めている要件は「メモリ使用量512MB、1時間ごと、最大5分の処理」「最小の運用労力」「高コスト効率」です。
あなたは、ウェブアプリケーションのユーザーデータを処理する新しいバックエンドシステムを設計している。
この処理にはデータの変換と軽量な分析が含まれ、完了には最大で5分間かかる。処理は1時間に1回のみ実行され、メモリ要件は最大で512MBである。
将来の利用者増加に対応するため、最小の運用労力で高コスト効率を実現したいと考えている。
この要件を満たす最善の選択はどのサービス構成か。。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
AWS Lambdaを使用してジョブをコード化し512MBのメモリで構成し、Amazon EventBridgeを使用して
1時間ごと定期的にLambda関数をトリガーするルールを設定する

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース008　
インテリア製品を扱う会社は、Webサイトで製品カタログを提供している。製品カタログは、画像や商品説明などの静的コンテンツと、在庫情報などの動的コンテンツで構成される。WebサイトはALB配下の複数のEC2インスタンスで動作している。会社は今後、Webサイトを複数言語に対応させて、世界中に製品を販売していく予定である。
世界中のユーザーに対して、製品カタログを高速に配信するにはどうすればよいか。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Amazon CloudFrontでALBをオリジンとして指定し、すべてのコンテンツを配信する

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース010　
大手小売企業は、オンプレミスとAWS上のVPCをDirect Connectで接続したハイブリッド環境を運用している。オンプレミスの新しいシステムは、VPC内に構築されているEC2インスタンスを呼び出すことが必要になった。新しいシステムは、AWS上のリソースに対してプライベートDNSホスト名を使用してアクセスする必要があるが、EC2インスタンスは、セキュリティ上の理由からプライベートサブネットに配置されている。
これらの要件を満たし、最も効率的で管理しやすいソリューションはどれか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Route 53 Resolverにインバウンドエンドポイントとリゾルバールールを作成する。リゾルバールールをVPCに関連付ける


++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　パブリックなサードパーティ認証局（CA
ある会社では、企業ポリシーにより特定のパブリックなサードパーティ認証局（CA）を使用することが義務付けられている。
このたび、CloudFrontでHTTPS通信を提供するため、このパブリックなサードパーティ認証局（CA）の証明書を利用することが必要になった。
どのような手段が適切か。 。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ローカルマシンを使用してパブリックなサードパーティ認証局（CA）から証明書を取得し、AWS Certificate Manager（ACM）にインポートする。
その証明書をCloudFrontディストリビューションのカスタムSSL/TLS証明書として設定する

下記は、サードパーティ認証局（CA）が発行した証明書を利用する手順の例です。

1.サードパーティ認証局（CA）から、サーバーやローカルマシンを使用して証明書を取得
サーバーやローカルマシンからサードパーティ認証局（CA）に対し必要な情報を提出し、証明書の発行を依頼します。ドメインの所有権など諸条件が認められれば証明書が発行されます。

2.取得した証明書をACMにインポート
AWSサービスで利用できるように、ACMに証明書をインポートして登録します。

3.証明書をCloudFront、ELB、API GatewayなどのAWSサービスで使用
インポートした証明書をAWSの各種サービスで使用します。
CloudFrontの場合、ディストリビューションの設定でインポートした証明書を指定し、通信をHTTPSで暗号化します。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース012　
企業では、Auto Scalingグループ内の複数のEC2インスタンスで構成されたオーダー受注アプリケーションを運用している。
オーダーはAmazon SQSを経由して、受注処理用のコンポーネントに分散され、処理結果を返す。
企業は、オーダーを受けてから結果を返すまでの時間を定めたサービスレベル合意書（SLA）を結んでいるが、
オーダーが集中する時間帯には定めた時間の上限近くまでかかっている。
改善策として、ソリューションアーキテクトが推奨するものはどれか。  。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
スケーリングポリシーをターゲット追跡スケーリングとし、キュー内にある未処理のメッセージの経過時間に基づいてEC2インスタンス数を増やす

SQSのメッセージキューの状態はAmazon CloudWatchにより取得・監視できます。
本設問のケースでは、SLAに定めたオーダーの応答時間を守らなければいけません。
CPU使用率やキュー内のメッセージ数に基づいたスケーリングよりも、メッセージの経過時間に基づいたスケーリングを実施する方が確実です。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　Amazon RDS for MySQL→Amazon Aurora MySQL互換エディションに移行
ある企業は、Amazon RDS for MySQLを使用しているアプリケーションのデータを、Amazon Aurora MySQL互換エディションに移行することを決定した。
管理者は移行の準備として、mysqldumpを使用してデータベースのダンプファイル（論理バックアップ）を取得した。
さらに、データベースを削除する際に「最終スナップショットを作成」のオプションを有効にし、DBのスナップショットを作成した。
これらを用いて、Amazon Aurora MySQL互換エディションへデータを移行する適切なアプローチはどれか。（2つ選べ） 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
スナップショットの移行機能を使用して、DBスナップショットからAuroraデータベースクラスタを作成する
取得したダンプファイルをS3に配置し、Auroraデータベースクラスタにインポートする

本設問では、ダンプファイルやDBスナップショットを用いてAmazon Auroraにデータを移行する方法について問われています。
RDS for MySQLとAmazon Aurora MySQL互換エディション間では、標準的なインポート/エクスポートツールやスナップショットを
使用してデータの移行を行うことができます。
DBスナップショットが存在する場合には、「データベースの移行」機能を使用してAmazon Auroraデータベースクラスタを作成することができます。
mysqldumpを使用したダンプファイルがある場合には、S3バケットにダンプファイルを配置し、そこからAmazon Auroraにデータをインポートすることができます。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　
ある企業は、オンプレミス上で動作するシステムのバックアップデータをAmazon S3上に保存したいと考えている。
バックアップデータはcsv形式で、毎日約9TBを転送する。このバックアップデータには機密情報が含まれているため、セキュアな方法で転送したい。
より安全性が高い方法で転送するには、どうすればよいか。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
AWS Direct Connectで接続し、AWS DataSyncを利用して転送する

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　いろいろ
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
AWS GlueジョブをAmazon EventBridgeスケジュールイベントに設定することで、定期的に顧客情報を取得してから加工する仕組みを構成することができます。

Glueのクローラーで抽出したデータに対してAthenaでSQLクエリを実行する、といった利用もできます。

Systems Manager Automationには、指定したKMSのカスタマーマネージド型のキーの削除をキャンセルする定義済みのランブックがあります。
EventBridgeを利用し、キーの削除をトリガーにランブックの実行、およびSNSトピックを通じて管理者へメールを送信する


++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇ケース　
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇タグによって「本番インスタンス」と「開発インスタンス」を定義するメタデータをインスタンスに追加します。
〇次に、ユーザーに対してIAMポリシーによってアクセス権限を付与する際に、これらのタグに基づいて開発者の利用範囲を分けます。
〇これによって、タグベースで本番用インスタンスを操作するユーザーと、開発用インスタンスを操作するユーザーに権限を分割することが可能となります。

〇IAMポリシーで直接にEC2インスタンスの操作拒否を設定することも考えられますが、
〇その場合はサービス単位でアクセス権限を拒否するため、開発者が開発用インスタンスも削除できなくなってしまいます。
〇したがって、タグによってインスタンス範囲を区別した上で、インスタンスの利用を制限する必要があります。


++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇ケース　Amazon Rekognition
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇このシナリオでは、画像識別APIを利用した画像分類システムをコスト効率よく実装する方法が問われています。

〇LambdaファンクションからRekognition APIを呼び出して、JSONフォーマットで情報を取得します。
〇Lambdaファンクションが取得した画像をS3バケットに保存して、エンドユーザー側の端末に表示させるプロセスを実装することで、
〇低コストなサーバレスな画像識別アプリケーションを構築することができます。

〇AWSにおける画像認識の利用にはAmazon Rekognitionの利用を第一に検討します。 
〇LambdaとRekognitionを組み合わせることにより、低コストで可用性の高い画像識別アプリケーションを容易に構築することができます。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇ケース　
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇このシナリオでは、特定のソフトウェアをインスタンス初期起動にシェルスクリプトによって自動的にインストールするための、
〇Amazon EC2のインスタンス設定方法が問われています。

〇Amazon EC2 インスタンスの起動設定時にユーザーデータを利用することで、インスタンス起動時にスクリプトを実行できます。 
〇【ユーザーデータ】とはAmazon EC2のインスタンス起動画面に設定されたスクリプトを記入できる入力欄のことです。
〇Amazon EC2の起動時にユーザーデータにはシェルスクリプトと cloud-init ディレクティブという2 つのタイプのデータを入力して、
〇インスタンス起動時にそれらを実行することができます。
〇また、このデータはプレーンテキスト、ファイルまたは base64 でエンコードされたテキスト (API コールの場合) として、
〇起動ウィザードに渡すこともできます。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇ケース　
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇このシナリオでは、デフォルトのSCPがない状態で、SCPによってS3とEC2の全ての操作権限が許可されているOU1のメンバーアカウントがあります。
〇つまり、OUIのメンバーアカウントはS3とEC2の全ての操作権限を内部のユーザーに付与できますが、
〇それ以外のリソースへの権限をIAMユーザーやロールに付与することができません。
〇さらに、個々のメンバーアカウントにおいて管理者がIAMユーザーに対して「EC2の削除権限」を拒否して、
〇「その他のEC2操作」を許可する権限を設定しています。
〇したがって、両方の許可が明示的に許可されている範囲は「削除以外のEC2操作の実行」となり、オプション１が正解となります。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇ケース　
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇サイト間VPNをAWSとオンプレミス間に構成するためには、オンプレミス側のネットワーク環境にカスタマーゲートウェイデバイスを設置して、
〇カスタマーゲートウェイを構成することが必要です。

〇カスタマーゲートウェイデバイスはオンプレミスネットワークにおいてユーザーが所有または管理している物理アプライアンスとそれを動作させるソフトウェアのことです。
〇そして、◆AWS側には仮想プライベートゲートウェイを構成します。
〇オンプレミス環境のカスタマーゲートウェイをAWS側の仮想プライベートゲートウェイに接続することで、サイト間VPNが接続できるようになります。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇ケース　
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇このシナリオでは、メモリ最適化インスタンスの適切なタイプを選択することが求められています。
〇メモリ最適化インスタンスは、メモリ内の大きいデータセットを処理するワークロードに対して高速なパフォーマンスを実現するように
〇設計されています。
〇R5インスタンスはメモリ容量を必要とするワークロードに最適なインスタンスタイプです。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇ケース　Amazon Forcast　健康管理
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇このシナリオでは、マネージドサービスを利用して機械学習モデルをトレーニングすることでAmazon S3バケットに保存されているデータを
〇使用して健康管理に関する予測モデルを作成することが求めています。
〇マネージド型サービスで予測モデルを生成できる仕組みはAmazon Forcastです。Amazon ForecastはAmazon S3バケット内のデータを
〇読み込んで予測モデルの学習と予測実行が可能です。

〇Amazon Forecastは、機械学習を利用した時系列予測を提供するフルマネージドサービスです。時系列予測とは、
〇過去の時系列データから将来の事象を予測することを指します。
〇具体的には、季節ごとの商品需要予測やプロモーション効果の予測、予算計画、スタッフの要員計画などに役立てることができます。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇ケース　Amazon S3に保存するデータを以下の要件で暗号化したい。
〇・データをS3へ送信する前に暗号化する
〇・暗号化と復号に使用する鍵はAWSで管理する
〇要件を満たす暗号化方法
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇「サーバー側の暗号化（Server-Side Encryption:SSE）」はデータをS3に保存する時にサーバーで暗号化する方法です。
〇サーバー側の暗号化では、データがS3に保存されるタイミングでS3が暗号化を行います。
〇データを取り出す際にもS3がデータを復号して、ユーザーに渡します。
〇「クライアント側の暗号化」はデータをS3に保存する前にクライアント側で暗号化する方法です。
〇クライアント側の暗号化では、データをS3へアップロードする前にクライアント側で暗号化を行い、暗号化したデータをそのままS3に保存します。
〇データを取り出すときは、暗号化したデータをS3からダウンロードした後、クライアント側で復号します。
〇AWS KMSに保存されているKMSキーを使用した、クライアント側の暗号化

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　開発環境として使用しているEC2インスタンスの使用量を削減するため、毎朝9:00に起動・22:00に停止するようにしたい。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Amazon EventBridgeを使用し、決まった時間に起動と停止を行うLambda関数を呼び出す

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　あるシステムはオンプレミスのサーバーで多数の動画ファイルをWebコンテンツとして配信している。
日増しにコンテンツへのトラフィックが増加しており、度々クライアントから動画がダウンロードできずエラーが発生していると報告があった。
より早く問題を解決できるのは、次のうちどれか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
CloudFrontを利用してオンプレミスのサーバーをオリジンサーバーに設定することで、
オンプレミス環境上に保存されている動画ファイルが世界各地のエッジサーバーにキャッシュされます。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇ケース　ある医療機関は、患者からの問い合わせを受け付け、効率的に処理・記録するシステムを開発している。
〇問い合わせ情報のデータは分野ごとに分類され、後続のアプリケーションで加工後、確実に記録される必要がある。
〇データの消失は許されない。運用上のオーバーヘッドを最小限に抑えながらこれらの要件を満たすのに最適な方法はどれか。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇SNSトピックを作成し、フィルタリング機能で問い合わせ情報を分野ごとに分類する。
〇SQSキューを分野ごとに作成し、SNSトピックへサブスクライブする。
〇後続のアプリケーションは自身に割り当てられた分野のSQSキューから必要なデータを取得して処理する
〇SNSには標準で暗号化やフィルタリング機能があります。


++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　あるベンチャー企業は、ユーザーがアップロードする画像ファイルを保存および公開するサービスを展開している。
画像ファイルはユーザーがアップロードした際に一意の画像IDが割り当てられる。企業は現在、オンプレミスのOracleデータベースに
画像を含むデータを保存しているが、アクセス増加に伴いAWSデータベースに移行したいと考えている。
データベースの画像IDには対応する画像とハッシュタグなどの情報が行として関連付けられている。
AWSへの移行には、高い拡張性と可用性を持ち、かつコストパフォーマンスに優れたシステムにする必要がある。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
S3バケットに画像ファイルを保存する。
画像IDをキー、
S3から付与された画像ファイルのURLやハッシュタグなどの情報をバリュー（値）としてDynamoDBに格納する

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　ある会社では、Dockerコンテナの技術を活用した自社のウェブアプリケーションをオンプレミスからAWSに移行しようと考えている。
このアプリケーションは、時間帯によってユーザのアクセス数が大幅に変動するため、AWS上でのスケーラブルな環境が求められている。
また、担当者は、サーバの運用や管理のオーバーヘッドは最小限に抑えたいと考えている。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
既存のコンテナイメージをAmazon ECRのレポジトリに登録し、実行環境としてAWS Fargateを用いたAmazon ECSクラスタ上で運用する。
ターゲット追跡スケーリングポリシーを使用して、リソースが自動的に調整されるように設定する


++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　メディア企業は、ニュースコンテンツを世界中の視聴者に向けて配信するWebサイトを運営している。
Webサイトは動的に生成される記事と画像や動画などの静的コンテンツがある。動的コンテンツはALB配下の複数のEC2インスタンス上で
実行されるアプリケーションで生成され、静的コンテンツはS3バケットに保存されている。
同社は視聴者のグローバル化を見据えて、静的コンテンツと動的コンテンツの配信パフォーマンスを向上させて、
可能な限り低遅延で配信したいと考えている。なお、WebサイトはRoute 53に登録した独自ドメインを使用している。
世界中の視聴者に対してニュースコンテンツを低遅延で配信するために、もっとも適切な方法は
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
CloudFrontでALBとS3バケットをオリジンとして設定する。
Route 53でCloudFrontにトラフィックをルーティングするように独自ドメインのDNSを設定する

CloudFrontでALB・EC2インスタンス（動的コンテンツ）とS3バケット（静的コンテンツ）両方を配信することにより、
世界中のユーザーに低遅延での配信が可能になります。また、Route 53でCloudFrontにトラフィックをルーティングするようにDNSを設定することで、
ユーザーから独自ドメインへのアクセスを適切にCloudFrontへ向けることができます。

Global Acceleratorは、ユーザーからAWSリソースまでのアクセス経路をAWSネットワークを利用して最適化するサービスです。
ユーザーと地理的に近いエッジロケーションから高パフォーマンスなAWSネットワークを経由してAWSリソースへアクセス可能で、
株価の配信サービスやチャットアプリケーション、オンラインゲームなど常に更新され続けるデータへの利用に適しています。
◆ニュースコンテンツを配信するWebサイトでは、CloudFrontによるエッジロケーションのキャッシュから配信した方が効率的に低遅延で配信できます。
また、Global Acceleratorのエンドポイントは▲ALB、NLB、EC2インスタンス、Elastic IPアドレスが設定できます。
S3バケットはエンドポイントとして設定できないので、誤りです。


++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース017　Global Accelerator
ある会社は複数リージョンでALBを利用したWebアプリケーションの構築を計画している。
アクセス元のクライアント企業から、通信をファイアウォールで制限しているため、ALBへの通信を、固定IPアドレスを許可することでアクセス可能にしたい
という要求があった。Webアプリケーションは低遅延なネットワーク環境で、可用性が高いシステムであることが望まれる。
要求をシンプルな手段で実現するために、最も適したソリューションはどれか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
AWS Global Acceleratorを利用して、全リージョンのALBをエンドポイントに登録する

AWS Global Acceleratorは、複数のリージョンで展開しているWebアプリケーションなどへのリージョン間の負荷分散が可能です。
負荷分散先（エンドポイント）はALB、NLB、EC2インスタンス、Elastic IPアドレスを指定できます。
Global Acceleratorは2つの固定パブリックIPアドレスを保有しており、ユーザーはこの固定IPアドレスへアクセスします。
エンドポイントが増減してもIPアドレスに影響なくサービスを継続できるため可用性が向上します。
また、Elastic IPアドレスを割り当てられないALBへのアクセスが、Global Acceleratorを利用して固定IPアドレスでアクセス可能になります。

設問の例では、クライアント企業のファイアウォールでGlobal Acceleratorの固定IPアドレスを許可することで、ALBへアクセス可能になります。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇ケース　ある企業が開発中のオンラインマルチプレイヤーゲームでは、プレイヤーがリアルタイムで行動するたびに、
〇その行動が他のプレイヤーにもすぐに反映される必要がある。
〇このゲームはAWSクラウド上でホストされ、データベースとしてAmazon RDS、キャッシュとしてAmazon ElastiCache for Redisを使用している。
〇企業は、プレイヤーのステータス更新やゲーム内でのアクション（アイテム取得、スキル使用など）がデータベースに記録されると同時に、
〇キャッシュも更新することを望んでおり、他のプレイヤーとのリアルタイム共有を可能にし、データの整合性と応答速度の両方を保持することが求められる。
〇適切なキャッシュ戦略は
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇ライト（書き込み）スルー戦略

〇Amazon ElastiCacheは、SSDや他のディスクストレージと比較して、高速かつ安定したアクセスを実現します。
〇オンラインゲームのようなリアルタイムでステータス反映が求められる環境では、特にライトスルー戦略が最適です。

〇データベースとキャッシュ間の整合性を保ちながら、パフォーマンスを確保することができます。
〇キャッシュにおけるデータの保存方法は、データの整合性と可用性を保ちつつ、パフォーマンスを最大化するために非常に重要です。

〇以下に、代表的なキャッシュ戦略の2つを紹介します。

〇■ライト（書き込み）スルー戦略
〇データベースへのデータ書き込みや更新が行われるたびに、同時にキャッシュにも書き込みます。
〇この戦略では、キャッシュのデータが常に最新の状態を保たれるため、データの整合性が維持されます。
〇しかし、書き込み性能が若干低下する可能性があるのと、アクセスされないデータがキャッシュに蓄積されるというデメリットもあります。

〇■遅延読み込み戦略
〇データベースへの書き込みを優先し、必要な時にのみキャッシュにデータを書き込みます。
〇アプリケーションがデータを要求した際には、まずキャッシュを確認します。
〇キャッシュにデータが存在する場合、そのデータをアプリケーションに返します。
〇データが存在しない場合には、データベースからデータを取得し、そのデータをアプリケーションに提供した後でキャッシュに書き込みます。
〇この方法では要求されたデータのみがキャッシュされるため、リソースの無駄遣いを減らすことができますが、
〇キャッシュとデータベース間で一時的なデータの不一致が生じる可能性があります。
〇また、キャッシュミス（キャッシュからデータを取得できなかった）した場合には、データ取得に時間がかかることがあります。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　あるオンライン教育プラットフォームは、学生の成績管理システムをAWS上で運用している。
現在、システムは単一のEC2インスタンス上で密結合な構造になっており、アプリケーションコードとデータベースが同じインスタンスに
インストールされている。機能追加や更新のたび、システム管理が複雑になり、アップデートのたびにシステム全体が停止し、
処理中のデータはやり直しを要する。企業はこれらの課題に対し、システムの柔軟性、スケーラビリティ、段階的な改良を実現したいと考えている。
さらに、ダウンタイムを最小限に抑えることが重要である。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ECSでシステムをマイクロサービスとして実行し、コンテナの自動スケーリングを利用する。DBはAuroraのマルチAZ配置で運用する

〇大きな機能を一つに総括したシステムをモノリシックなシステムといいます。
モノリシックとは反対に、最小限の機能を持つ独立したサービスのことをマイクロサービスといいます。
▲マイクロサービスの主なメリットは、ある機能に障害が発生したりアップデートした場合に他の機能への影響を最小限にできること、
機能を別のサービスに流用することが容易になるので開発コストの削減に繋がることなどが挙げられます。

▲コンテナはマイクロサービスの実現に適しています。ひとつのサービスをひとつのコンテナで実行することで効率的にマイクロサービスを構築できます。
また、ECSは負荷に応じて自動的にリソースを調整し、実行中のコンテナインスタンスの状態を監視し続けるため、
継続的な可用性とパフォーマンスを保証する効率的な運用が可能です。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　ある動画制作会社は、過去10年間の動画データをオンプレミスのストレージに保存している。
同社は約600TBの古い動画データをバックアップデータとして、Amazon S3に保存することを計画している。
動画データは最低5年以上に渡って保存し、データへは基本的にアクセスしない予定である。
数か月中にオンプレミスのストレージ容量が枯渇する恐れがあるので、データは1か月以内に移行を完了させたい。
なお、同社がデータ転送用に使用できるインターネット回線は600Mbpsである。
コストパフォーマンスが高い方法でデータを転送・保存するために、もっとも適切な方法は
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇Snowball Edge Storage Optimizedデバイスを注文してS3バケットにデータを転送する。データをS3 Glacier Deep Archiveストレージクラスに移行する

〇オンプレミスからAWSストレージへデータ移行を行う方法には、
〇主にAmazon Storage GatewayやAmazon DataSyncなどを使用したオンラインで行う方法と、
AWS Snowファミリーを使用したオフラインで行う方法の2種類があります。

オンラインで移行する場合は、移行対象のデータが更新中のものであったり、停止できないシステムなどの動的なデータでも移行可能です。
一方、オフラインで移行する方法は、物理的なストレージ機器を移送してS3バケット上へ保存するので、静的なデータの移行に適しています。
バックアップデータを移動したり、ある時点でのデータを移行してそれ以降はS3上のデータを活用するといったケースで利用します。

会社がデータ転送用に使用できるインターネット回線は600Mbpsであることから、600TBのデータを600Mbpsで転送すると約92日（1KByte=1000Byteで計算）かかります。
オンラインで1か月以内にデータ転送を行うのは不可能なので、オフラインで転送する必要があります。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　ある会社では、最近、運用中のAmazon S3バケット内に財務情報が含まれていることが発覚した。
同社のデータ運用方針では、財務情報を含む機密情報のS3への保存は認められていない。
今後、同様の事象が発生した際には、いち早く気付いて迅速に対応ができる仕組みを作りたいと考えている。
問題の解決策として、Amazon EventBridgeを利用して、自動的に検知と通知を行う仕組みを構築することになった。
Amazon EventBridgeに設定するルールとして適切なものはどれか。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
フィルタリングの対象をMacieに設定する。
イベントパターンを"type": "SensitiveData:S3Object/Multiple"に設定する。
ターゲットをSNSに設定する

Amazon Macieは、S3バケット内のデータ保護に特化したセキュリティサービスです。
機械学習とパターンマッチングを用いて、自動的にS3バケット内のオブジェクトを分析し、個人情報（PII）や秘匿技術などの機密データを識別・分類します。
S3バケット内のセキュリティとアクセス制御を継続的に評価し、機密データの未暗号化や不適切な共有、漏洩などの問題について、
検知した結果をマネジメントコンソール上に反映します。
Macieには、検知結果を直接ユーザへ通知する機能は実装されていないため、ユーザ側での確認が必要です。
ユーザ側での確認作業には、運用上のオーバーヘッドの増加や人為的ミス（確認忘れなど）のリスクがあるため、
他のAWSサービスと連携することで、ユーザへの通知を自動化することが推奨されています。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇ケース　ある企業は、顧客企業のAWSアカウント内のAmazon S3バケットに保存されたデータを参照して分析するサービスを開発している。
〇サービス提供側の企業からは、顧客企業のセキュリティを維持したまま安全にアクセスする必要がある。この要件を満たす最適な方法はどれか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇顧客企業側で、S3バケットに対する読み取り専用権限を持つIAMロールを作成し、
〇サービス提供企業側のアカウントがこのロールを引き受けられるように信頼ポリシーを設定する

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇ケース　あある会社のアプリケーションチームは、大規模な機械学習の処理を実行するために Fargate利用のAmazon ECSを使用している。
〇この処理はCPUとメモリを大量に消費し、現在十分なCPUとメモリが割り当たっていないタスクがあるため、パフォーマンスが低下している。
〇このチームは、コストを最適化しつつ処理パフォーマンスを改善したいと考えている。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇AWS Compute Optimizerを使用して、ECSタスク定義のCPUとメモリ設定に関する推奨事項を取得する

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇ケース　ある小売業の企業では、顧客の購買情報に関する大量のデータをオンプレミスのサーバーで管理しているが、
〇現在、ストレージ容量が逼迫してきており、これらのデータをAWSクラウド上に移行することを検討している。
〇これらのデータは頻繁に追加や更新が行われる。
〇また、新たなコンプライアンス上の要件により、保存されているデータへのアクセスや変更といった操作ログの記録が必要とされている。
〇これらの要件を満たしつつ、データの移行を実現する適切な方法はどれか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇オンプレミスの環境にDataSyncエージェントをデプロイし、S3バケットへデータを転送する。CloudTrailのデータイベントの監視を有効にする

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇ケース　企業では、イベント駆動型の業務サービスについて検討している。イベントが投入されると業務サービスは処理を行い、
〇処理結果は解析処理アプリケーションやデータベースへの保存処理アプリケーション、事務処理アプリケーションなど
〇複数のアプリケーションへ通知する。各アプリケーションはそれぞれの処理が完了した後に新しい通知を受け取る。
〇そのうち、一部のアプリケーションでは処理の完了に即時～数日かかる。なお、同じ処理を複数回実行してはならない。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇処理結果の通知はAmazon SNS FIFOトピックへ行う。
〇FIFOトピックをサブスクライブする各アプリケーション用のSQS FIFOキューを作成し、各アプリケーションはキューからメッセージを取得する

本設問のケースでは、◆1つの処理結果を複数のアプリケーションへ通知する必要があるためSNSトピックを作成します。
〇また、一部のアプリケーションでは通知を受信できるようになるまでばらつきがあるため、
〇受信者が任意のタイミングで通知を受け取ることができるSQSのメッセージキューと合わせて構成します。
〇このように、SNSとSQSを組み合わせてメッセージを複数の送信先に配信する構成のことを「ファンアウト」といいます。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　Amazon EC2インスタンス上で実行されるアプリケーションは、ユーザーが利用するスマートフォンから、
HTTPベースのインタフェースを通してリアルタイムにデータを受信して処理している。
このところ、データ量が増大すると高負荷によりアプリケーションが処理しきれなくなる問題が発生している。
問題を解決し、よりスケーラブルなアプリケーションにするには、どのソリューションが最も適切か。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
データの受信にはAmazon Kinesis Data Streamsを利用し、データの処理にはAWS Lambdaを利用する

Glueは複数のデータソースからデータを抽出し、変換・統合したデータをターゲットへ格納するサービスです。
Glueはバッチ処理に適しておりリアルタイムのデータ処理には適していない

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　ある企業はAmazon SNSとAWS Lambdaを使用するシステムを開発した。
システムは、EC2インスタンスが処理対象のデータをSNSへ発行し、SNSトピックからLambdaへ配信してLambda関数を実行する仕組みである。
開発者はシステムの連携テスト中、SNSトピックから配信された一部のメッセージがLambda関数で処理されていないことに気が付いた。
すべてのメッセージがLambda関数で処理されるためには、どのようにすればよいか。  
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
配信不能メッセージをAmazon SQSのデッドレターキューに送信する。Lambda関数でキューのメッセージを処理する

Amazon SNS（Simple Notification Service）では、SNSトピックからメッセージの配信に失敗した場合、
通常はメッセージを破棄してしまいます。
メッセージの破棄を防ぐには、配信不能メッセージをAmazon SQSのデッドレターキューに送信するようにサブスクリプションを設定します。
デッドレターキューに保持されたメッセージをLambda関数がポーリングすることで、SNSトピックから配信された全てのメッセージが
Lambda関数で処理されるようになります。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇ケース　あるサービスはALB配下のEC2インスタンスでWebコンテンツを公開している。インターネットからEC2インスタンスへの直接アクセスを防ぎ、
〇　ALB経由のアクセスのみ許可したい。
〇どのようなネットワークアクセス制御の設定をしたらよいか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇EC2インスタンスのセキュリティグループで、ALBのセキュリティグループからの通信を許可する

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　ある大手商社は、現在業務システムの運用環境をアジアに位置するリージョンで稼働させている。
同社は、最近の自然災害のリスクを受けて、災害復旧(DR)のための冗長性を高めることを決定した。
現在の運用環境と同じアーキテクチャを、北米にあるリージョンに迅速かつ確実に構築したいと考えている。
この要件を効率的に満たすためにはどのような手段がよいか。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
現行のインフラストラクチャを参考にして、それをベースにテンプレートを作成する。
その後、AWS CloudFormationを利用して新しいリージョンにこのテンプレートを適用し、DR用のインフラを構築する

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　ソフトウェアのパッケージを提供するため、配布用のWebサーバーをEC2インスタンスで構築した。
パッケージはインスタンスのEBSボリュームに保存している。
ユーザーのアクセス数が増えてきたため、単一EC2インスタンスからAuto Scaling構成に変更した。
新たにパッケージを更新したあと、ユーザーから「アクセスするたびにバージョンの異なるパッケージが表示される」という報告があった。
全てのユーザーが最新のパッケージにアクセスできるようにするには、どのようなアプローチをとるのがよいか。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
各EC2インスタンスからAmazon EFSをマウントし、共有したいファイルを保存する

本設問のケースでは、EC2インスタンス（EBS）をAuto Scalingで増設したことにより、パッケージの配布元が複数できてしまったことで発生した事象です。
このとき、EC2インスタンスに紐づくEBSボリュームも複製されるため、パッケージが複数存在することになります。このため、
いずれかのパッケージの更新漏れや、更新のタイミング等によってパッケージのバージョンに差異が発生する可能性があります。
この事象を解決するには、配布を行うストレージを全てのサーバーで共通にして、パッケージを一元管理する必要があります。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース4　自宅から保守
会社のWebサイトをEC2インスタンスで運用している。会社のテレワーク推進に伴い、Webサイトの運用担当者が自宅から保守できるように整備を進めている。
現在EC2インスタンスのセキュリティグループには、インバウンド通信のSSH接続用許可ルールに会社のグローバルIPアドレスが設定されている。
しかし運用担当者の自宅IPアドレスは一定でないため、インスタンスへの通信元IPアドレスが変更になる度にセキュリティグループを更新しなければならない。
運用担当者はセキュリティグループの管理が煩雑になってしまうことを危惧している。
運用にかかる負荷を最小限にした上で、EC2インスタンスへセキュアにログインする方法はどれか。  
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
AWS Systems Manager Session ManagerからEC2インスタンスへログインする

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　ある小売企業は、日本中にある約200店舗からの販売データをリアルタイムで収集し、ストレージに保存するシステムを構築している。
このシステムはREST APIを用いてリアルタイムで発生するストリーミングデータを受け付け、データの変換処理をしたあとにS3バケットに保存する。
保存したデータはAmazon Athenaで販売データの分析をする予定である。
サーバー管理の運用コストを最小限に抑えつつ、これらの要件を満たす最も適切なソリューションは
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
1.REST APIを用いてリアルタイムで発生するストリーミングデータ
2.API Gatewayで受け付けたデータをKinesis Data Streamsに送信する。
3.Kinesis Data Streamsをデータソースとして、Data FirehoseからLambda関数へ配信し、データ変換処理をする。
4.変換処理されたデータをData FirehoseがS3バケットに保存する

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　契約上データをオンプレミスから移動できない
ある医療機関は、大量の患者データを分析するためにHadoopやPrestoを活用したアプリケーションをオンプレミス上で運用している。
しかし、現在のオンプレミス環境では拡張性に限界があり、管理も複雑であるため、運用の複雑さを軽減するスケーラブルなソリューションを求めている。
なお、このシステムは契約上データをオンプレミスから移動できないため、オンプレミスで実行する必要がある。最も適切な解決策はどれか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Outpostsをオンプレミス環境に導入後、アプリケーションをOutposts上のEMRクラスタに移行してデータ処理を実行する

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　
ある会社が分析システムを開発している。分析システムは、データを変換するアプリケーションと、
変換したデータを分析するアプリケーションの2つにプロセスが分かれており、それぞれがAuto Scalingグループ内の複数のEC2インスタンスで実行されている。
データ変換処理は1件につき1分以内に完了するが、分析処理は完了までに数分かかる。システムの各処理でデータの損失が発生しないように、
Auto Scalingに適切なスケーリングポリシーを設定する必要がある。
ソリューションアーキテクトの提案として、もっとも適切なものはどれか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
SQSキューを変換用アプリケーションと分析用アプリケーションにそれぞれ作成する。SQSキューの【バックログ】に基づいたスケーリングポリシーを設定する。
アプリケーションはSQSキューへポーリングしてリクエストを処理する

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　
ある会社が大規模なバッチ処理のアプリケーションを設計している。アプリケーションは複数のインスタンスによる並列処理が実行され、
インスタンス間で大量のデータ転送が行われる。
インスタンス間は可能な限り低遅延で通信可能で、回復性も兼ね備えたい場合、どうすればよいか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Auto Scalingグループを作成し、クラスタープレイスメントグループに所属した複数のインスタンスを単一AZで起動する

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　
ある企業は、重要な財務記録をAmazon S3に保存することを検討している。この記録データは、10年間保持する必要があり、この期間、更新や削除がされないように保護しければならない。また、セキュリティ上の要件から、これらのデータはS3上で確実に暗号化され、暗号化に使用するキーは一年に一度、自動的にローテーションされる必要がある。運用上のオーバーヘッドを最小限に抑えつつ、これらの要件を満たす満たす最適な方法はどれか。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
コンプライアンスモードでS3オブジェクトロックを設定する。AWS KMS管理のカスタマーマネージド型キーを使用したデータの暗号化(SSE-KMS)を行い、キーの自動ローテーションを設定する

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　
ある企業では、重要な機密データをAmazon S3バケットに保存している。
同社では、このデータを複数のパートナー企業から参照可能な状態にしたいが、各企業はそれぞれ別のAWSアカウント持っている。
運用上のオーバーヘッドを最小限に抑えつつ、安全に各企業へ必要最小限のアクセス権限のみを付与できる方法を検討している。
これらの要件を満たす方法はどれか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
S3バケットを保有する企業側で、信頼ポリシーが定義されたクロスアカウントアクセス用のIAMロールを作成する。
S3バケットへの読み取り権限を持つIAMポリシーをアタッチする

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　
国際的な物流企業は、世界各地からの荷物追跡情報を集約し、毎時00分にジョブを実行してデータ解析を行い、迅速な配送ルートの最適化を目指している。
このデータはすべてAmazon S3バケットに保存されている。解析ジョブは、データの量によっては最大で30分かかることが予想される。
ジョブのCPUとメモリ使用量は一定で、企業のIT部門はこれを事前に計算している。
このジョブを効率的に実行し、オペレーションの負担を最小限にする方法を探している。この要件を満たすための最適な方法はどれか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
AWS FargateとAmazon ECSを使用してジョブを実行するコンテナタスクを設定する。
ジョブの実行タイミングはAmazon EventBridgeのスケジュールイベントで管理する

ｘ　AWS Glueジョブを設定して、S3のデータを毎時00分にETL処理し、結果を別のS3バケットに保存する
Glueは、フルマネージドのサーバーレスETLサービスです。
Glueのデータの抽出・変換・書き出しをする処理は、この問題の要件である複雑なデータ解析とは一致していません。よって誤りです。 

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　
ある国際的な教育機関では、オンプレミスで運用中の学習管理システムをAWSクラウド上に移行することを検討している。
同機関のセキュリティポリシーにより、AWSアカウントで使用できるリージョンはeu-west-2(ロンドン)のみに制限する必要があり、
また、学習管理システムを運用するVPCはインターネットから隔離されていなければならない。
これらの要件を満たすことのできるソリューションはどれか。（2つ選べ） 。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
AWS Control Towerのガードレールを用いて、指定したリージョン(eu-west-2)以外へのアクセスの拒否設定と、VPCのインターネットへの接続の拒否設定を行う
AWS OrganizationsのSCPを用いて、指定したリージョン(eu-west-2)以外へのアクセスの拒否設定と、VPCのインターネットへの接続の拒否設定を行う

AWS Organizationsのサービスコントロールポリシー（Service Control Policy：SCP）を用いることで、組織に属しているOU（Organizational Unit）またはAWSアカウントに対して、利用できるAWSサービスやアクションを制限することができます。SCPを用いることで、本設問の要件を満たす設定を行うことができます。

また、AWS Control Towerで提供されているガードレール（コントロールとも呼ばれます）を用いても、本設問の要件を満たす設定を行うことができます。
ガードレールとは、AWSにおけるベストプラクティスに基づいた構成や設定、ルールの組み合わせが事前定義されたものです。管理者は、セキュリティやコンプライアンスの要件にあわせてこれらを選択し適用することで、各アカウントに対する設定や適用するルールにばらつきが生じることを防ぎ、統制のとれたマルチアカウント環境を容易に展開することができます。

本設問の要件を満たすために適切なガードレールは、データレジデンシーガードレールです。データレジデンシーガードレールは、データの保存場所や処理場所に関する制限をかけることを主な目的としたガードレールです。このガードレールを用いることで、特定のリージョン以外の使用を禁止したり、VPCをインターネットから隔離するといった設定が可能です。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　
ある開発者は、Amazon RDSへアクセスするLambda関数を開発している。Web上の開発プラットフォームにソースコードを登録したところ、二か月後にAWSリソースへの不正アクセスが発覚した。
原因は、ソースコード内にアクセスキーおよびシークレットアクセスキーを埋め込み、そのソースコードをGitHubで公開したためであった。
再発防止のために開発者が行うべきアプローチはどれか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
認証情報をAWS Secrets Managerに保存する。▲Lambda関数には認証情報を取得するためのIAMロールを関連づける


++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　
あるスタートアップ企業は、毎月の利用量が大幅に変動する大規模なデータ解析ワークロードを実行している。ワークロードは中断可能なタスクからなり、毎月初めの数日間はピークを迎え、その後は利用頻度が低くなる傾向がある。企業は、将来的な成長に備えてワークロードの動的な要求を受け入れつつも、長期的な契約は避けできるだけコストを削減したいと考えている。
これらの要件に基づいた最適なEC2インスタンスの購入オプションはどれか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 オンデマンドインスタンスとスポットインスタンスの併用
ｘリザーブドインスタンスとスポットインスタンスの併用

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　012　
ある製造業の企業は、オンプレミス環境とAWS環境をDirect Connectで接続している。現在、この企業はAWSの同一リージョン内に複数の異なるVPCを持っており、それぞれが製造プロセスやデータ解析など異なる業務に使用されている。これらのVPCは、オンプレミスのデータセンターとの間でセキュアに通信できる必要があり、すべてのVPCが相互に通信できることが求められている。また、各VPCには、他のネットワークと重複しないCIDRブロックが割り当てられている。企業は、これらのネットワーク接続を効率的に管理し、運用コストと管理負担を最小限に抑えながら、全体のネットワークアーキテクチャを一元的に制御したいと考えている。さらに、今後VPCが追加される予定があるため、将来のスケールに対応できる構成にしたい。要件を満たす最適な選択肢はどれか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Transit GatewayとDirect Connect Gatewayを作成して関連付ける。Transit VIFを設定し、オンプレミスネットワークからTransit Gatewayを介して各VPCに接続できるようにする。各VPCをTransit Gatewayに接続し、ルートテーブルを設定して通信を有効にする

AWS Transit Gatewayは、複数のVPCやオンプレミスネットワークを相互に接続するハブ機能を持つサービスです。これにより、複数のVPCを1つのハブで管理し、ネットワーク経路を簡素化できます。また、Direct Connect Gatewayを併用することで、オンプレミスネットワークとAWSの複数のVPCを効率的に接続することが可能です。

具体的な手順は、以下の通りです。
1. AWS Transit GatewayとDirect Connect Gatewayを作成・関連付け:
Transit GatewayはVPC間の通信を一元管理し、Direct Connect Gatewayはオンプレミスから複数のVPCへの接続を管理します。これにより、オンプレミスネットワークからAWSの複数VPCへシームレスな通信が可能になります。

2. Transit VIFを設定:
Transit VIFは、Direct Connect経由でオンプレミスネットワークとAWS Transit Gatewayを接続するための仮想インターフェースです。Transit VIFを設定することで、オンプレミスとAWSの複数のVPC間の通信が、Direct Connectを介して効率的かつ安全に行われるようになります。

3. 各VPCをTransit Gatewayに接続し、ルートテーブルを設定:
各VPCをTransit Gatewayにアタッチし、ルートテーブルを設定することで、VPC間およびオンプレミスとの通信が正しく行われるようになります。


++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　
あるソーシャルメディアプラットフォームでは、ユーザーが投稿にコメントを付けたり、他のユーザーの投稿を「いいね」することができる。このプラットフォームは、ユーザー数が急増しているため、RDS for MySQLに対する読み取り要求が急増している。開発者は、ユーザーのフィードに表示されるコメントや「いいね」の読み取りパフォーマンスが低下していることに気づいた。特に、人気のある投稿に対するアクセスが集中すると、応答時間が大幅に遅延することが問題となっている。モニタリング結果により、データベースの単純なスケーリングではこのパフォーマンス問題が解決しないことが判明した。読み取りパフォーマンスを向上させ、ミリ秒未満の応答時間とデータのレプリケーションなど柔軟な機能を持つソリューションが求められている。
ソリューションアーキテクトは、これらの問題を解決するためにどの選択肢が適切か。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
データベースとElastiCache for Redisを連携し、ユーザーのフィードに表示されるコメントや「いいね」の情報をキャッシュする

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　あるサービスはAmazon S3の静的Webサイトホスティングを利用してWebコンテンツを配信している。Webコンテンツを保護するため、
全トラフィックにAWS WAFで設定したWeb ACLを適用したい場合、どうすればよいか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
AWS WAFは、Amazon CloudFront、Application Load Balancer、Amazon API Gateway、AWS AppSyncに対応しています。
Amazon S3では直接AWS WAFを有効にできないので、AWS WAFのWeb ACLを適用するには静的WebサイトホスティングのWebコンテンツ
へのアクセスをCloudFront経由にします。
CloudFrontのOAI（Origin Access Identity）は、S3バケット内のコンテンツへのアクセスをCloudFront経由でのアクセスに限定し、
クライアントからS3バケットへ直接アクセスされないようにする機能です。
クライアントからオリジナルコンテンツへの直接アクセスを制限することにより、オリジンサーバーのデータを保護できます。

CloudFrontでWebコンテンツのあるS3バケットにOAIを設定すると、Webコンテンツへのトラフィックが全てCloudFront経由になります。
そしてAWS WAFを有効にすることで、全トラフィックにAWS WAFのWeb ACLを適用できます。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　Amazon Auroraデータベースを使用する本番環境がある。本番環境と同等のデータを使用した検証環境を用意し、常時使用できるようにしたい。
また、検証環境は本番環境の最新データを反映するために定期的に再作成される
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Amazon Auroraには、データベースの◆クローン（複製）を作成できる機能があります。
クローンの作成時にデータのコピーが発生しないので、スナップショットの取得/復元やデータベースのエクスポート/インポートするよりも
高速に作成できます。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　ある製造業の企業は、航空機や自動車の3D設計データを用いた解析を効率的に行うためのシステムをAWS上で開発している。
これらの設計データは解析対象の品目や解析目的ごとにまとめられAmazon S3に格納されており、起動時に解析処理用のバックエンドサーバ上に読み込まれる。
設計データは何万点もの部品から構成されているため、それぞれが約1GB程度から大規模なものでは5GB程にまで達する。
ユーザはAPIを介してサーバ上の設計データにアクセスし解析処理のリクエストを送信することができ、この処理は非同期で行われる。
各設計データの使用頻度は一定ではなく、全く使用されない日もあれば、多くのユーザから大量の解析処理が送信されることもある。
同社は、使用状況に応じたスケーラブルなソリューションを求めている。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ユーザからのリクエストをAmazon SQSキューに格納する。
解析処理用のサーバはコンテナ化してAmazon ECSへデプロイし、ECSからキューを読み込み処理を行う。
ECSの自動スケーリングを有効にする

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース013　SFTPサーバー
ある企業は、複数の顧客がインターネット経由でAWSストレージにアクセスできるSFTPサーバーを提供することを検討している。
同社のセキュリティ要件では、顧客のSFTPサーバーへのアクセスは承認されたIPアドレスのみに限定し、データ転送と保存時の暗号化を行う。
同社は、高い拡張性と可用性を確保できるAWSストレージを使用したいと考えている。
これらの要件を満たすソリューションとして、最も適切なものはどれか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
暗号化を有効にしたEFSボリュームを作成する。AWS Transfer FamilyでSFTPサーバーを作成し、【インターネットからアクセス可能なVPCエンドポイント】を
デプロイする。承認されたIPアドレスからのアクセスをセキュリティグループで許可する。SFTPサーバーをEFSボリュームに接続する。
Transfer Familyで顧客のアカウントを作成し、適切なアクセス権限を設定する

Transfer FamilyでSFTPサーバーなどを作成すると、ユーザーがアクセスするための接続エンドポイントが設定されます。
エンドポイントには、インターネットからアクセス可能な「パブリックエンドポイント」と、VPCでホストされる「VPCエンドポイント」があります。
「インターネット向けVPCエンドポイント」は、Elastic IPアドレスをVPCエンドポイントに関連付けることで、
インターネットからパブリックサブネットを経由してアクセスします。パブリックエンドポイントとは異なり、
セキュリティグループを使用して接続元を制限することが可能です。

Transfer Familyのパブリックエンドポイントはインターネットからアクセスできますが、セキュリティグループを使用できないので送信元IPアドレスのアクセス制御ができません。
SFTPサーバーへのアクセスは承認されたIPアドレスのみに限定するという要件を満たせない

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース014　単一障害点（オンプレミス）
オンプレミスからAWSへ「AWS Site-to-Site VPN」での接続方法を検討している。単一障害点がない設計にするためには、どうすればよいか。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
複数のカスタマーゲートウェイを配置する
ｘ複数のVPNトンネルを張る

AWS Site-to-Site VPNで使用する仮想プライベートゲートウェイ（VGW：Virtual Private Gateway）とVPNトンネルは、機器障害に対する高可用性を保つために
AWS側で冗長化されています。
一方、カスタマーゲートウェイはオンプレミス内の機器なので、高可用性を保つにはAWSユーザー側で冗長化する必要があります。
複数のカスタマーゲートウェイを配置することで、単一障害点（※）がない設計にできます。
※単一障害点（SPOF：Single Point Of Failure） … ある箇所が故障すると、システム全体が機能不全になる箇所


++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース016　　
ELB配下に複数台のEC2インスタンスがWebサーバーとして稼働している。
クライアントからWebサーバーまでに通過するインターネット上の通信を暗号化した上で、Webサーバーには暗号化・復号による負荷が
かからないようにするにはどうすればよいか。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ALBのみにサーバー証明書を導入して、ALBでHTTPSを指定する
ｘ　NLBのみにサーバー証明書を導入して、NLBでHTTPSを指定する
ｘ　ALBおよびインスタンスにサーバー証明書を導入して、ALBでHTTPSを指定する

NLBで指定できるプロトコルは、TCP、TLS、UDPです。HTTPSは指定できない


++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　
オンラインゲームを公開している企業は、ゲームの改善のためにアンケートを実施している。
ゲームは世界中に広まり、ユーザーが増え続けているため、企業はアンケートの収集方法を改善したいと考えている。
アンケートはゲームユーザーによってリアルタイムに投稿され、バージョンアップ直後には1日に数千件が送信される。
アンケートには選択式のほか、複数の自由記述欄もある。
企業は、効率よくアンケートを収集し、自由記述欄の文章に対して高速なテキスト検索を可能にしたいと考えている。
テキスト検索では、キーワードおよびフレーズで検索するための機能が必要である。
要件を満たす、もっとも適切なソリューションはどれか。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Amazon Data Firehoseを使用してアンケートデータを収集する。Amazon OpenSearch Serviceに保存し、テキスト検索を行う

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース018 複合アラーム
Amazon CloudWatchでEC2インスタンスを監視する。
「CPU使用率が80%を超えたとき」かつ「受信ネットワークトラフィック量が60MB/分を超えたとき」にアラームを通知するには、どうすればいいか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
複数のアラームを指定して複合アラームを作成する

複数のメトリクスがしきい値を超えたときにアラームを通知したい場合は「複合アラーム」を作成します。
例えば「CPU使用率が80%を超えたとき」に通知するアラームと、「受信ネットワークトラフィック量が60MB/分を超えたとき」に通知するアラームが
両方アラーム状態になった場合に、複合アラームを通知するという設定ができます。
複合アラームは、下記のように複数のアラームを指定して作成します。
複合アラームを使用してアラームの通知条件を厳密にすることで、対応不要なアラーム通知を減らす効果が期待できます。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　ある会社は社内用の業務アプリケーションをAWS上で運用している。業務アプリケーションはEC2インスタンスで動作し、
Amazon RDSのデータベースを利用する。現在、東京リージョンのみに展開しているが、災害復旧（DR：Disaster Recovery）を
考慮してマルチリージョンの利用を検討している。DRプランのRPO（目標復旧時点）は12時間、RTO（目標復旧時間）は3時間で、
DRプランを満たす必要最小限のコストを負担する。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
・EC2インスタンスのEBSボリュームからスナップショットを作成し、セカンダリリージョンへコピーするジョブを半日毎に実行する
・Amazon Route 53のフェイルオーバールーティングポリシーをマルチリージョンで設定する
・Amazon RDSでインスタンスのスナップショットを作成し、セカンダリリージョンへコピーするジョブを半日毎に実行する

〇Route 53の「フェイルオーバールーティングポリシー」は、通常時はプライマリに設定したリソースのIPアドレスを回答し、
〇プライマリのリソースにヘルスチェックで異常が発生した場合は、セカンダリに設定したリソースのIPアドレスを回答します。
〇Route 53のフェイルオーバールーティングポリシーをマルチリージョンで設定することで、災害時には自動的にセカンダリリージョンへ切り替えられます。

〇EC2インスタンスにアタッチされるEBSボリュームは、データのバックアップ手段としてスナップショット機能を備えています。
〇スナップショット（snapshot）とはある時点のストレージの状態（保存されているファイル群など）を取得したもののことです。
〇スナップショットを別リージョンへコピーすることでリージョン間バックアップが作成可能です。
RDSにもEBSと同様にスナップショット機能があります。マルチリージョンのリードレプリカを利用するよりも安価にリージョン間バックアップが作成可能です。

「RPO（Recovery Point Objective：目標復旧時点）」とは、障害発生時にデータを復旧させる時点のことで、障害が発生した際にどの時点までのデータを
復旧させるかという指標です。
「RTO（Recovery Time Objective：目標復旧時間）」とは、どのくらいの時間で（いつまでに）復旧させるかという指標で、サービスやシステムが許容できる
停止時間を意味します。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース019　ある会社はAWSクラウドへの移行を進めているが、いくつかのサーバーとデータベースは依然としてオンプレミス環境に残っている。
セキュリティの観点から、インターネット経由での通信は許されておらず、オンプレミスとAWSの間はDirect Connectを使用して接続されている。
このたび、AWSクラウド上のサーバーがオンプレミスのデータベースにアクセスする必要が発生した。
オンプレミス環境内部にあるホスト名はオンプレミスの内部DNSサーバーによって管理されており、アクセスするにはVPC内のリソースが
オンプレミス内部のホスト名を解決する必要がある。
この状況でセキュアで効率的なソリューションはどれか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Route 53 Resolver▲アウトバウンドエンドポイントを作成し、オンプレミスのDNSサーバーにクエリを転送するルールを設定する

Route 53 Resolverは、VPCにデフォルトで提供されるDNSサーバーで、インターネット上に公開されたリソースの名前解決と、VPC内のリソースの名前解決ができます。
オンプレミス環境など他のネットワークとVPCをプライベートネットワークで接続する場合、VPC内のリソースはオンプレミス環境にある内部DNSサーバーを参照できません。
また、オンプレミス環境にある内部DNSサーバーもVPC内のRoute 53 Resolverを参照できません。
このようなハイブリッド環境では、Route 53 Resolverの▲ハイブリッドクラウド機能を利用して名前解決を一元化できます。
VPC内のリソースがオンプレミス内部のホスト名を解決し、逆にオンプレミスのリソースがVPC内のプライベートDNSホスト名を解決できるようになります。

Route 53 Resolverのハイブリッドクラウド機能には「リゾルバールール」「インバウンドエンドポイント」「アウトバウンドエンドポイント」の3つの
コンポーネントがあります。
「リゾルバールール」は、DNSクエリをどのDNSリゾルバーに転送するかのルールを設定します。
「アウトバウンドエンドポイント」は、VPC内のリソースがオンプレミス内部のホスト名を解決する必要がある場合に使用し、
VPCからオンプレミスネットワークへのDNSクエリを可能にします。

本設問のように、AWS上のリソースからオンプレミス内部のホスト名を使用してアクセスする必要がある場合は、「アウトバウンドエンドポイント」を使用します。
VPC内からのDNSクエリは、まずRoute 53 Resolverに送られ、そこからアウトバウンドエンドポイントを通じてDirect Connect経由でオンプレミスの
DNSサーバーに転送されます。
この構成では、DNSクエリはDirect Connect経由で安全に転送され、インターネットを経由せずにセキュアに名前解決が実現します。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　ソリューションアーキテクトは、マルチAZで運用中のAmazon RDSでフェイルオーバーが発生していることに気が付いた。
原因を調査するポイントとして正しいものはどれか。（2つ選択） 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ｘ現プライマリDBインスタンスが配置されているAZに障害が発生していないか
〇元プライマリDBインスタンスのバックアップが破棄されていないか
ｘリードレプリカに障害が発生していないか
〇元プライマリDBインスタンスに障害が発生していないか
〇元プライマリDBインスタンスが配置されていたAZに障害が発生していないか
プライマリDBインスタンスに障害が発生しても、スタンバイDBインスタンスがプライマリDBインスタンスに切り替わり、運用を継続することができます。
フェイルオーバーは以下のタイミングで実行されます：
- プライマリAZの障害
- プライマリDBインスタンスへのネットワーク接続不可
- プライマリDBインスタンスの障害
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース009　ストレージ　◆カスタムIDブローカー
あるシステム開発企業は、オンプレミスのActive Directoryを利用しており、この認証情報を使用してAWSマネジメントコンソールへのユーザー認証を
行いたいと考えている。
しかし、そのADはシングルサインオンを実現するためのSAMLプロトコルと互換性がない。
この状況でユーザー認証をどのように実現すればよいか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
カスタムIDブローカーアプリケーションを介してSTSにアクセスし、一時的なセキュリティ認証情報を取得することでAWSへのアクセスを実現する

使用されているADがSAMLと互換性がないため、代替手段としてカスタムIDブローカーアプリケーションの開発が必要です。カスタムIDブローカーは、
異なる認証システム間で橋渡しを行い、STSを利用して一時的なAWS認証情報を取得することで、AWSへのセキュアなアクセスを実現します。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース020　RDS Proxy
ある教育サービス提供企業は、新たなオンライン学習プラットフォームを運営したいと考えている。
この企業は、Lambda関数を使用してプライベートサブネットに属するAurora MySQLクラスターのインスタンスにアクセスし、ユーザーデータを管理する予定である。
受講者からのアクセス集中が予測されており、サービスの安定性を確保するために、データベースパフォーマンスを維持し、Lambda関数からの頻繁な接続が
データベースに負荷をかけないようにしたい。これらの要件を満たす選択肢はどれか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Lambda関数のVPCアクセスを設定し、プライベートサブネット内のAWSリソースへのアクセスを確立する。
RDS Proxy経由でデータベースにアクセスする

Amazon RDS Proxyは、Amazon RDSおよびAmazon Auroraデータベースへの接続を効率的に管理するフルマネージドのプロキシサービスです。RDS Proxyをアプリケーションとデータベースの間に配置することで、データベース接続の管理を効率化し、アプリケーションのパフォーマンス、スケーラビリティ、および可用性を向上させることができます。

AWS Lambda関数はデフォルトで、Lambda専用のセキュアなVPCに配置されます。Lambda関数からプライベートサブネット内のAWSリソースにアクセスさせたい場合は「VPCアクセス」の設定を行います。VPCアクセスを設定したLambda関数からRDS Proxy経由でDBインスタンスにアクセスすることで、データべースへの接続が効率的に管理されて過負荷を防げます。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース028　
ある製薬会社は、自社アカウント内のVPCから、パートナー企業が管理している重要な研究データにアクセスして、
社内での分析に使用する必要がある。パートナー企業は、自身のAWSアカウント内でRDS for Oracleを運用しており、
このデータベースには分析に必要なすべてのデータが保存されている。製薬会社のVPCにはインターネットゲートウェイや
Direct Connect、VPN接続がなく、さらに、製薬会社とパートナー企業のVPCはCIDRブロックが重複している。
両社ともデータのセキュリティを最優先しており、インターネットを介した通信を避けたいと考えている。
製薬会社がパートナー企業のVPC内にあるデータベースにセキュアにアクセスするために、最適な接続方法はどれか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
パートナー企業が作成したNLBを介して、AWS PrivateLinkを使用してパートナー企業のRDS for Oracleにアクセスする

AWS PrivateLinkは、異なるVPCやアカウント間での通信をインターネットを介さずにセキュアかつプライベートに行うためのサービスです。
特に、VPC間でCIDRブロックが重複している場合や、高いセキュリティが求められる環境において非常に有効です。
また、PrivateLinkの設定は比較的シンプルです。
複雑なネットワーク設定やルーティングの調整が不要で、管理が容易になるため、導入後の運用負担を軽減できます。

具体的には、まずパートナー企業が自社のVPC内でネットワークロードバランサー（NLB）を設定し、
このNLBを使ってVPCエンドポイントサービスを作成・公開します。
その後、製薬会社は自社のVPC内で、この公開されたエンドポイントサービスに接続するためのVPCエンドポイントを作成します。
これにより、製薬会社はインターネットを介さず、プライベートIPアドレスを使用してパートナー企業のRDS for Oracleに
セキュアにアクセスできるようになります。

AWS Transit Gatewayは、複数のVPCやオンプレミス環境を接続する際に効果を発揮しますが、今回のような一対一の接続には冗長です。
また、CIDR重複の問題も解決できませんので、誤りです。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　ある企業は、オンプレミスのWindowsファイルサーバーで機密情報を含む重要なドキュメントを社員向けに共有しているが、
ビジネスの成長に伴いストレージ容量が逼迫してきたため、ストレージの拡張性が高く、社員がいつ、どこからでもドキュメントに
安全にアクセスできるようなクラウドソリューションへの移行を検討している。
同社では現在、オンプレミスのActive Directory（AD）サーバーでユーザー管理を行なっており、新しいソリューションにおいても、
認証されたユーザーのみがこれらのドキュメントにアクセスできるようにしたい。運用上のオーバーヘッドを抑えつつ、この要件を満たす最適な方法は
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
オンプレミスのADと連携させたAmazon FSx for Windows File Serverを構成し、オンプレミスのファイルサーバーからデータを移行する。
AWS Client VPNを構成し、社員が社外からアクセスする場合にはVPN接続を行う
FSx For Windows File Serverは、オンプレミスのActive Directory(AD)サーバーと連携させることができます。
これにより、既存のADにおけるユーザーやアクセス権の管理を踏襲してAWS上でも同等のアクセス制御を実現することができます。

◆AWS Client VPNは、パソコンなどの端末とVPCのClient VPNエンドポイントを、インターネットVPNで接続するサービスです。
◆OpenVPNというVPNソフトウェアを利用しており、Windows、macOSだけでなくiOSやAndroidにも対応しています。
◆Client VPNは機器の導入等が不要なので、手軽にセキュアな通信でAWSへアクセスできます。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース023　AWS Network Firewall
ある企業では、プライベートサブネット内のEC2インスタンス上でデータ分析アプリケーションをホストしている。
このアプリケーションは、インターネット上に公開されている外部APIのURLに定期的にアクセスして気象情報に関するデータを取得している。
同社では現在、ネットワークセキュリティの強化が求められており、
インターネットを介した通信については、このAPIとEC2上のアプリケーション間のみ許可したい。これらの要件を満たす方法はどれか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
AWS Network Firewallを構成し、APIとの通信のみを許可するドメイン名によるフィルタリングのルールを作成する。
プライベートサブネットからのアウトバウンド通信がNetwork Firewallを経由するようにルートテーブルを修正する


++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　
あるスタートアップ企業が、AWS上で重要なビジネスアプリケーションを開発している。
予算の制約により、このアプリケーションは単一のEC2インスタンスで運用される予定だが、
ハードウェア障害によるサービス停止は最小限に抑えたいと考えている。
インスタンスの障害から迅速に回復する最も効率的な方法はどれか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
CloudWatchアラームとインスタンス復旧アクションを設定して、インスタンスのヘルスチェックで異常があった場合に自動的に復旧する

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　あるメディア制作会社は、ビデオエンコードのジョブ進行状況やリソース利用率を詳しく知るために、
それらのメトリクスを継続的に監視したいと考えている。
そのため、CloudWatchエージェントをすべてのAmazon EC2 Linux インスタンスにインストールして、エンコードサーバーの詳細な監視を
行うことを計画している。現在、この会社は約500のEC2インスタンスを持っているが、インスタンスは異なる設定や用途で使用されている。
この監視要件を効率的に実現するために、どのような対応をすべきか？ 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
AWS Systems Manager Run Commandを使用して、すべての EC2インスタンスにCloudWatchエージェントをインストールする

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　あるスタートアップ企業では、AWS上でWebアプリケーションを運用しており、Amazon CloudWatchを用いてリソースのモニタリングを行っている。
最近、同社の役員がリソースの利用状況に関心を持っており、CloudWatchのダッシュボードを通じて必要に応じて確認したいとの要望が出ている。
IT部門の管理者は、役員に対してダッシュボードへのアクセスを許可する必要があるが、役員はAWSアカウントを持っていない。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇Amazon CloudWatchは、AWSサービスやオンプレミスのシステムを監視するサービスです。リソース（CPU使用率やストレージの使用状況など）の状態に
〇応じたアクションを取らせることができます。
CloudWatchが監視する様々なリソースの情報は「メトリクス」と呼ばれ、これらの情報はCloudWatchのダッシュボードから確認することができます。

◆CloudWatchのダッシュボードは「ダッシュボードの共有」機能を使用することで、AWSアカウントを持たない相手と共有することが可能です。
これにより、新規にAWSアカウントやIAMユーザーを作成することなく、共有先のEメールアドレスを指定して、普段AWSを利用していないメンバーや
社外の関係者とダッシュボード上の情報を簡単に共有することができます。

また、▲「ダッシュボードの共有」機能を使用した場合、共有を受けたメンバーにはそのダッシュボードの情報を参照するために必要な最小限の権限のみが
自動的に付与されます。CloudWatchダッシュボード以外のリソース（ログやアラームの定義など）に対するアクセス権限は付与されないため、
最小権限の原則に則った安全な共有を実現することができます。


++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース025　VPCアクセスの設定をしたLambda関数からインターネット上の外部サービスへアクセスしたい。
外部サービスはアクセス元を限定するために、接続できるIPアドレスを制限している。
Lambda関数から外部サービスにアクセスするために、どのようにアクセス元のIPアドレスを提示すればよいか。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Lambda関数からプライベートサブネット内のAWSリソースへアクセスさせたい場合は「VPCアクセス」の設定をします。
VPCアクセスではアクセスしたいAWSリソースのあるVPCやサブネットの選択と、Lambda関数のセキュリティグループを設定します。
VPCアクセスを設定するとLambda関数がサブネット毎に接続用のENI（Elastic Network Interface）を作成して、プライベートサブネット内のAWSリソースへアクセスします。
◆VPCアクセスを設定したLambda関数は、ENIを作成したサブネットへアクセスできるようになる代わりに、インターネットへアクセスできなくなります。
◆VPCアクセスを設定したLambda関数からインターネットへアクセスしたい場合は、プライベートサブネットからインターネットへアクセスする方法と同様に、
NATゲートウェイまたはNATインスタンスを経由します。
◆Lambda関数がNATゲートウェイ経由でインターネットへアクセスする際、インターネット側から見たアクセス元のIPアドレスは
NATゲートウェイに割り当てられたElastic IPアドレスです。Elastic IPアドレスは固定のIPアドレスなので、
NATゲートウェイのIPアドレスを提示すれば外部サービスがアクセス元を限定できます。
NATゲートウェイを経由する設定をした上で、NATゲートウェイのIPアドレスを提示する

◆VPCアクセスの設定をしたLambda関数の挙動
・Lambda関数から指定したVPC内のサブネットへアクセスできるようになる
・Lambda関数からインターネットへ直接アクセスできなくなる

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　026
ある会社はオンプレミスで公開しているWebアプリケーションに新サービスの追加を計画している。
新サービスはAWSのEC2インスタンスで開発する予定である。開発にあたり、EC2インスタンスを配置予定のVPCと同社のオンプレミスとの間に、
AWS Site-to-Site VPNを契約する。ユーザーからのアクセスを接続先URLのパスに従って現行サービスと新サービスに振り分けたい。
要件を満たすための方法は、次のうちどれか。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ALBを配置し、ALBのターゲットにEC2インスタンスとオンプレミス上のサーバーを指定する。ALBでパスベースのルーティングを設定する。

ALBではHTTP、HTTPSをサポートしています。また、WebSocketや、同一インスタンス内の複数ポートへの負荷分散、ホストベースやパスベース、
URLクエリ文字列でのルーティングに対応しています。
パスベースのルーティングとは、クライアントがリクエストした接続先URLのパスに従ってルーティングできる機能のことです。
例えば、クライアントの接続先URLが「http://www.example.com/web1/」の場合はWebサーバー1にアクセスさせて、「http://www.example.com/web2/」の場合は
Webサーバー2にアクセスさせることができます。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　あるグローバルニュース会社は、世界中の支社からニュース映像を毎日収集している。
支社は、アジア、北アメリカ、ヨーロッパ、アフリカの4つの地域に分散している。
各支社からの映像データは1ファイルあたり平均2GBで、1日に約200件送信される。
映像データは本社に近いバージニア北部リージョン（us-east-1）のS3バケットに保存される。
収集された映像は翌日のニュース番組で放送されるため、迅速にS3バケットに転送する必要がある。
各支社は高速なインターネット回線を保有しているが、大量の映像データをより迅速に転送する方法を検討している。
迅速なデータ転送方法として、次のうち最も適切なソリューションは
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
S3バケットのTransfer Accelerationを有効にする。各支社からマルチパートアップロードを利用してデータを送信する
Amazon S3のTransfer Accelerationは、ユーザーからS3バケットへ最適化したネットワークルートを経由してデータを転送する機能です。
ユーザーと地理的に近いエッジロケーションから高パフォーマンスなAWSネットワークを経由してS3バケットへアクセスするため、
遅延の発生やデータ損失などのリスクを少なくします。
マルチパートアップロードは、単一のオブジェクトをパートといわれる複数のデータに分割して、S3バケットにアップロードする機能です。
各パートはそれぞれ並列にアップロードされるので、アップロード時間を大幅に短縮できます。また、パートの一部に送信エラーが発生しても、
他のパートへ影響を及ぼすことなくエラーが発生したパートのみを再送します。
◆AWSではファイルサイズが100MB以上の場合は、マルチパートアップロードの使用を推奨しています。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース029　
あるECサイトを運営する企業は、注文管理システムにRDS for PostgreSQLデータベースを使用している。
このデータベースはマルチAZ構成であり、複数のリードレプリカも配置している。最近、サイトの人気が高まり、アクセス数が急増している。
その結果、リードレプリカが過負荷となり、アプリケーションがプライマリインスタンスに過度に接続するようになった。
これにより、プライマリインスタンスに障害が発生し、サイトのダウンタイムが生じた。
企業は、このような障害が発生した際に、スタンバイインスタンスが迅速にプライマリインスタンスに昇格し、ダウンタイムを最小限に抑えるため、
フェイルオーバー時間を短縮する方法を検討している。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
RDS Proxyを導入して接続プールを管理する
〇 RDS Proxyは、Amazon RDSおよびAmazon Auroraデータベースへの接続を効率的に管理するフルマネージドのプロキシサービスです。
〇RDS Proxyをアプリケーションとデータベースの間に配置することで、データベース接続の管理を効率化し、
〇アプリケーションのパフォーマンス、スケーラビリティ、および可用性を向上させることができます。

〇RDS Proxyは接続プールを使用して、複数のデータベース接続を効率的に管理します。
これにより、アプリケーションがデータベースに新しい接続を頻繁に確立および切断する必要がなくなり、データベースサーバーの負荷が
軽減されます。また、データベースのフェイルオーバー時に接続を管理し、新しいデータベースインスタンスに自動的にルーティングします。
さらに、マルチAZ配置もサポートしており、アプリケーションのダウンタイムを最小限に抑えることができます。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　
ある企業は、AWS環境で運用しているEC2インスタンスに接続されたEBSボリュームのデータが暗号化されていることを確実にしたいと考えている。
企業は、既存の暗号化されていないEBSボリュームを自動的に検出し、暗号化するプロセスを求めている。
また、暗号化されていないEBSボリュームが新たに作成されるのも防止したい。
この要件を満たすために最適なアプローチはどれか。（2つ選択） 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
IAMポリシーを設定し、暗号化されていないEBSボリュームの作成を防ぐ
Configで暗号化されていないEBSボリュームを自動的に検出し、Systems Manager Automationで暗号化の修正アクションを実行する

IAMポリシーを使用することで、暗号化されていないEBSボリュームの作成を制限することができます。これにより、新たに作成されるすべてのEBSボリュームが暗号化されることを強制し、コンプライアンスを確保できます。

AWS Configは、AWSリソースの設定を管理・記録し、設定変更がセキュリティやコンプライアンスの基準に従っているかを評価するサービスです。リソースの設定変更が発生した際、その履歴が自動的に記録され、定義されたルールに基づいて「準拠」または「非準拠」として判定されます。例えば、AWS Configを有効にすることで、暗号化されていないEBSボリュームを自動的に検出し、適切なセキュリティ基準に従っていないリソースを特定することができます。これにより、AWS環境全体の設定状況を可視化し、継続的な監査を行うことが可能です。

AWS Systems Manager Automationは、AWSリソースへの操作を自動化し、効率的に実行するサービスです。ランブックは、自動実行されるワークフローを定義するドキュメントであり、ワークフローは一連のタスクで構成されています。例えば、暗号化されていないEBSボリュームを検出した際に、Automationを利用して修正アクションを自動化することが可能です。具体的には、EBSボリュームのスナップショットを取得し、そのスナップショットから暗号化済みのEBSボリュームを作成し、それをEC2インスタンスにアタッチします。
これにより、手動操作を減らし、運用効率を向上させると同時に、人的ミスのリスクを最小限に抑えることができます。


++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース030　オンプレミスで運用をしている企業が、大容量ストレージ機器の保守期間満了に伴いAWSストレージへの移行を計画している。
同企業ではブロックストレージとNFSストレージを使用しており、既存のアクセスパターンからなるべく変更せずに移行したいと考えている。
基本的に全データをAWSに移行するが、転送の遅延を抑えるためのローカルキャッシュを保存できる小容量ストレージ機器を用意した。
ソリューションアーキテクトの提案として、もっとも適切なものはどれか。（2つ選択） 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Storage Gateway ボリュームゲートウェイ（キャッシュ型）をデプロイして、ブロックストレージとして利用する
Storage Gateway S3ファイルゲートウェイをデプロイして、NFSストレージとして利用する


++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース031　ある会社は、Amazon ECSを使用したアプリケーションを開発している。このアプリケーションは、Amazon RDSデータベースにアクセスし、
データを読み取る必要がある。
Amazon ECSのコンテナに、Amazon RDSデータベースの読み取り権限を付与するにはどうすればよいか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
RDSデータベースへの読み取り権限を持つIAMロールを作成し、そのIAMロールをタスク定義のタスクロールに指定する

Amazon ECSの主要要素に「クラスター」「タスク」「サービス」があります。
そのうちの「タスク」はECSで管理するコンテナの実行単位です。
タスク内のコンテナは、実行するコンテナイメージ、CPUやメモリのスペック、タスクロールなどを定義した「タスク定義」に基づいて起動します。
なお、タスクロール（taskRoleArn）とは、コンテナが他のAWSサービスを利用する際に設定するアクセス権限（IAMロール）のことです。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　
ある企業は東京リージョンにデプロイされているアプリケーションを運用しており、複数のパートナー企業がそれぞれのAWSアカウントを
使用している。各パートナー企業のアプリケーションログは、それぞれのアカウント内のS3バケットに保存されている。
企業は、運用上のオーバーヘッドを最小限に抑えつつ、全てのログを一元化して分析できるソリューションを求めている。
さらに、ログデータを標準SQLを使用してクエリし、分析したい。全てのログは東京リージョン内で管理され、他のリージョンに持ち出すことはできない。
運用上のオーバーヘッドを最小限に抑えてこれらの要件を満たすために、もっとも適した方法
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
S3同一リージョンレプリケーションを使用して、各アカウントのS3バケットから東京リージョン内の別のS3バケットにログをレプリケートする。
このS3バケットに対してAthenaでSQLを実行し、分析を行う
S3バケットから他のS3バケットへ自動的にコピーをするには「S3レプリケーション」が適切です。
S3レプリケーションは、非同期で指定した他のバケットへ自動的にオブジェクトをコピーする機能です。
▲レプリケーション先は、同一AWSアカウントが所有するバケットでも、異なるAWSアカウントが所有するバケットでも指定できます。
S3レプリケーションには、コピー先を同一リージョンのバケットにする「同一リージョンレプリケーション」と、異なるリージョンのバケットにする
「クロスリージョンレプリケーション」があります。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　ある金融サービス会社は、重要なトランザクションデータを管理するオンプレミスのMicrosoft SQL Serverを、AWSクラウドに移行する計画を立てている。
このデータベースには高度なデータ管理機能が含まれており、データベースのログ配布やネイティブのデータベーススナップショット
（特定のポイントインタイムでのデータベース状態の保存）など特定のSQL Serverの機能がビジネスプロセスの中で重要な役割を果たしている。
そのため、これらの機能はAWS移行後も使用したいと考えている。
ソリューションアーキテクトは、これらの要件を満たすアーキテクチャをどのように設計すべきか。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
EC2インスタンスにMicrosoft SQL Serverをインストールし、オンプレミスと同じ構成を維持する。
ネイティブのデータベーススナップショットと、データベースのログ配布機能を使用する

〇RDS for SQL Serverでは、Microsoft SQL Serverの一部機能（データベースのログ配布やネイティブスナップショット）はサポートしていません
〇EC2インスタンスにMicrosoft SQL Serverをインストールすることで、SQL Serverのすべての機能をフルに活用でき、
〇オンプレミスと同様のカスタム構成も可能です。
▲利用できるデータベースエンジンやバージョンが限定されており、Microsoft SQL Server特有の機能が使用できない場合があります。
▲例えば、データベースのログ配布やネイティブのデータベーススナップショットなどが該当します。
これらの機能をAWS上で引き続き利用したい場合、EC2インスタンスにMicrosoft SQL Serverをインストールする必要があります。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　国際的なソフトウェア開発会社は、複数のプロジェクトでAWSのリソースを広範囲にわたって使用しており、
AWS Organizationsを活用して組織全体でのリソース管理を行っている。
最近、特定のプロジェクトが予定より早く終了し、そのプロジェクトのメンバーアカウントで購入したCompute Savings Plansの予定利用量を
満たすことができなくなった。このプロジェクトはCompute Savings Plansの余剰分を組織内で有効に活用する方法を模索している。
会社がコスト効率を保つために取りうる最善の策は次のうちどれか。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Compute Savings Plansは1年または3年の期間、一定のサービス使用量（1時間あたりの利用料金）を決めて契約することで、
通常よりも低価格になる購入オプションです。
このプランは、リザーブドインスタンスとは違って使用するインスタンスタイプを事前に決める必要はありません。
Compute Savings Plansの場合、Amazon EC2、AWS Lambda、AWS Fargate 全体の使用量に適用されます。
Organizationsに含まれるアカウントで購入した場合、管理アカウントでSavings Plansの割引共有を有効化することで
Organizations内のすべてのアカウントでの使用量に適応され有効活用ができます。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース022　Systems Manager Automation
ある会社はAWS上で社内用アプリケーションを運用している。アプリケーションのデータは、AWS KMS（Key Management Service）の
カスタマーマネージド型のキー（鍵）によって暗号化されている。同社は、アプリケーションの運用者が誤ってキーの削除しようとしたときに、
キーの削除を防止するのと同時に、管理者にメールで通知するソリューションを検討している。
要件を満たしつつ、運用上のオーバーヘッドを最小限に抑えたソリューションは
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Systems Manager Automationを利用して、特定のキーの削除をキャンセルするランブックを設定する。
キーの削除操作をトリガーとしたEventBridgeルールを構成し、
ランブックの実行、およびSNSトピックを通じて管理者へメールを送信する


++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇ケース
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇EC2インスタンスとDBインスタンスを自動的に起動・停止してコストを削減するためには、
〇EC2インスタンスとDBインスタンスを起動・停止するLambda関数を作成します。

〇AWS Lambda と Amazon EventBridge を使用すると、Amazon EC2 インスタンスを自動で停止および起動できます。
〇Amazon EventBridgeスケジュールで業務時間の開始時にLambda関数によりインスタンスを起動して、業務時間終了後に
〇Lambda関数によりインスタンスを終了するようにLambda関数の実行スケジュールを設定します。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
〇工場のデバイスから送信されるストリームデータを取得して保存するソリューションとしては、Amazon Kinesis Data Firehoseを利用します。
〇Amazon Kinesis Data Firehoseによってデータ配信処理を構成してAmazon S3バケットのデータを保存します。
〇今回のシナリオでは、ストリームデータの保存に数分のタイムラグが発生してもよいため、Amazon Kinesis Data Streamsではなく、
〇Amazon Kinesis Data Firehoseによって直接データを取得して、Amazon S3バケットに保存する構成とします。
〇Amazon Kinesis Data Streamsは1秒以下のデータロードが達成できる性能があり、ストリーミングデータをリアルタイムに処理したり、
表示させたい場合に利用します。一方では▲Kinesis Data Firehoseはデータロードまで60秒必要となるため、ミリ秒単位の処理には利用できませんが、
〇データを変換してストレージなどに配信する用途には向いています。

〇「コスト最適に、取得後10日以内のデータはすぐに利用できるようにして、10日経過したデータはアーカイブする」という要件に対しては、
〇Amazon S3のデータ保存した上で、10日経過後にGlacierによるアーカイブするようにライフサイクルルールを設定します。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　国際的な非営利団体が、世界中の様々なプロジェクトで使用するために複数のAWSアカウントを運用している。
団体は、各プロジェクトの要求に応じて異なる予算を割り当てており、予算超過を未然に防ぎながら、プロジェクトの進捗に合わせて
リソースを自動調整する仕組みを取り入れたいと考えている。
また、特定のプロジェクトの予算が超過した場合には、新たなリソースのプロビジョニングを自動的に停止するなどの対応をしたいと望んでいる。
ソリューションアーキテクトがAWS Budgetsを活用して効率的に予算管理を行う場合、どのような設定をすべきか。（2つ選択）
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Organizationsで組織に新たなリソースのプロビジョニングを停止するSCPを設定する。予算のしきい値を超えた場合、
AWS BudgetsがこのSCPを適用し、関連するAWSアカウントでの追加コストの発生を防ぐ
各プロジェクトの予算アラートをAWS Budgetsで設定する。予算超過時のアクションを実行するための権限を持つBudgets用のIAMロールを作成し適用する

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　ある企業では、オンラインストアの注文情報をAmazon DynamoDBに保存している。この企業は、新しい注文が発生した際に、
その注文内容を基に在庫の確認と再注文のロジックを自動的に実行したいと考えている。このロジックはAWS Lambda関数で実装されている。
同社は、この自動化処理がオンラインストアのパフォーマンスに影響を与えることを避けたいと考えている。
運用上のオーバーヘッドを最小限に抑えつつ、これらの要件を満たすために最適な方法はどれか。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
注文情報テーブルのDynamoDB Streamsを有効にする。在庫の確認と再注文のロジックを実行するLambda関数のトリガーとしてこのテーブルの
ストリームを指定し、テーブルの変更イベントに応じて自動的にLambda関数を実行させる

◆DynamoDB Streams（ストリーム）とは、テーブルに対して行われた直近の24時間の変更（追加や更新、削除）をログに保存する機能です。
ストリームを参照することによって、いつ誰がどのようにテーブルを更新したかがわかります。ログには、アプリケーションがリアルタイムに
アクセスできるため、変更内容に応じて処理を組み込むことができます。
なお、DynamoDB Streamsは非同期で動作するため、ストリームを有効にしても元のテーブルのパフォーマンスには影響を与えません。
また、DynamoDBはAWS Lambdaと統合されているため、Lambda側のトリガーを使用することで、独自のアプリケーションを用意したり、
追加のコードをすることなく連携させることができます。


++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース032　
ある企業は、S3バケットに新しいログファイルがアップロードされるたびに、外部の監視サービスAPIを非同期で呼び出してログファイルの
オブジェクトURLを送信し、エラーチェックとアラートを行うソリューションを必要としている。
なお、この監視サービスAPIは、ユーザー名とパスワードで認証を行うHTTPSインターフェースを備えている。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Amazon EventBridgeは、AWS上のリソースの状態変化やスケジュールに応じてアクションを実行できるサービスです。
EventBridgeのAPI destinations（API送信先）は、外部APIとの連携を簡単に行うことができる機能です。
イベントが発生した際に外部のエンドポイントに対してHTTPSリクエストを非同期に送信することが可能で、例えば、S3バケットに
新しいオブジェクトが追加されたときに外部の監視サービスに通知を送るなど、外部システムとの連携を柔軟に実現できます。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　ユーザーがログアウトしても、再度ログインした際に最近のメッセージを即座に表示する
あるベンチャー企業がリアルタイムのチャットアプリケーションを開発している。
このアプリケーションは、データベースにAmazon Auroraを利用している。ユーザーが数百人のグループチャットでも、
遅延を最小限にしてリアルタイムでメッセージを表示させたい。
また、ユーザーがログアウトしても、再度ログインした際に最近のメッセージを即座に表示する必要がある。
次のうち、もっとも要件に合うソリューションはどれか。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ElastiCache for Redisを利用してメッセージをキャッシュする
ElastiCache for Redisは、データ永続性を提供するので、ユーザーが再度ログインしたときに最近のメッセージを即座に表示するという要件に適しています。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　あるソーシャルメディア会社はユーザーの行動データをリアルタイムで収集し、Amazon S3の収集用S3バケットに保存している。
データは1日あたり約5GBだが、サービス利用者の増加により収集するデータは日に日に増加し続けている。同社はユーザーの行動分析のために、
収集用S3バケットから分析用S3バケットへ自動的にデータをコピーし、分析処理用のLambda関数を実行したいと考えている。
さらにデータは、機械学習モデルの更新のためにAmazon SageMaker Pipelinesへ送信する。
運用上のオーバーヘッドを最小限に抑えてこれらの要件を満たすために、もっとも適した方法は次のうちどれか。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
収集用S3バケットと分析用S3バケット間でS3レプリケーションを設定する。
Amazon EventBridgeで分析用S3バケットにオブジェクトがアップロードされたときのルールを作成し、
分析用のLambda関数およびSageMaker Pipelinesをルールのターゲットとして設定する

S3バケットにデータがコピーされた際に、Lambda関数とSageMaker Pipelinesの両方に通知を送信するには「Amazon EventBridge」が適切です。
S3イベント通知の通知先はLambda関数、SQSキュー、SNSトピック、EventBridgeです。SageMaker Pipelinesに直接通知を送ることはできません。
また、▲S3イベント通知は同一条件の通知を複数のLambda関数宛に送ることはできないので、誤りです。

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　ある企業は、オンプレミス上でPythonとPerlをベースにしたWebアプリケーションを運用しているが、AWSへの移行を考えている。
高可用性を維持し、構築や運用にかかる負荷を最小限に抑えたい。また、複数の環境を切り替えてテストできる機能を求めている。
これらの要件を満たす解決策はどれか。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Elastic BeanstalkにWebアプリケーションをデプロイし、Blue/Greenデプロイメントで環境を切り替えながら新機能のテストを行う

Elastic Beanstalkは、Blue/Greenデプロイメント（環境を切り替えること）が容易に実行できます。
Blue/Greenデプロイメントは、旧環境を稼働させながら新環境にバージョンアップしたアプリケーションをデプロイし、
動作確認後に旧環境と新環境のURLをスワップする（切り替える）ことで実現できます。頻繁に機能をテストする必要があるケースに非常に適しており、
ダウンタイムを最小限に抑えて新機能のリリースを行えます。
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ケース　ある企業がAWS Organizationsを使用して複数のAWSアカウントを一元管理している。
この企業は、Amazon EC2インスタンスへの操作をAWS Organizations内の組織メンバーだけに限定したいと考えている。
運用の負担を最小限に抑えながら実現するにはどの方法が最も適切か。 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
IAMロールのアクセスポリシーに組織IDを指定したaws:PrincipalOrgIDグローバル条件キーを追加する。
これをEC2インスタンスにアタッチする

条件キーは、特定の条件に基づいてアクセス制御を行うためにポリシーのCondition要素の中で使用されます。条件キーを使用することで、
ポリシーの許可や拒否を具体的な条件で細かく制御し、アクセス権を詳細に管理できます。条件キーのうち、
グローバル条件キーは"aws:"で始まり、すべてのAWSサービスに対して共通して使用できます。
一方、サービス固有の条件キーは、サービス固有の名前（例"s3:"）で始まります。
グローバル条件キーには、組織全体にわたるアクセスを制御する組織ID(aws:PrincipalOrgID)、組織ユニットの階層を指定し特定の部門や
グループに対する細かいアクセスを制御する組織パス(aws:PrincipalOrgPaths)、タグに基づいてアクセスを制御する
プリンシパルタグ(aws:PrincipalTag)などがあります。

この設問の場合、グローバル条件キーのaws:PrincipalOrgID（組織ID）を指定することで、
特定の組織IDを持つプリンシパル（IAMユーザー、グループ、ロール、またはAWSサービス）のみにリソースへのアクセスを許可することができます。
OU（Organizational Unit）やタグを使った細かな制御と比較して、ポリシー管理がシンプルであり、大規模な組織での運用負担を軽減します。
組織全体を対象とした一括のアクセス制限を実施するため、個々のアカウントやユーザーに対する個別のアクセス設定を行う必要がなくなり、
管理が容易になります
